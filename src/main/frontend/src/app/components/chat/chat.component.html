<div class="chat-content">
  <div class="chat-card">
    <div class="chat-header">
      <h2>Chat</h2>
    </div>

    <div class="chat-messages">
      @for (message of messages; track $index) {
        <div class="message" [class.user]="message.role === 'user'" [class.assistant]="message.role === 'assistant'">
          <div class="message-bubble">
            <p class="message-text">{{ message.content }}</p>
            <span class="message-time">{{ message.timestamp }}</span>
          </div>
        </div>
      }

      @if (isLoading) {
        <div class="message assistant">
          <div class="message-bubble">
            <div class="typing-indicator">
              <span></span>
              <span></span>
              <span></span>
            </div>
          </div>
        </div>
      }
    </div>

    <div class="chat-input">
      <input
        type="text"
        [(ngModel)]="userInput"
        (keydown.enter)="sendMessage()"
        placeholder="Type your message..."
      />
      <button class="send-btn" (click)="sendMessage()" [disabled]="!userInput.trim() || isLoading">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="22" y1="2" x2="11" y2="13"></line>
          <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
        </svg>
        Send
      </button>
    </div>
  </div>
</div>